/*
================================================================================
COMPONENT STYLES
- This file contains structural and component-level styles.
- It uses the CSS variables defined in theme.css for all color properties.

SPACING UNITS NOTE:
- Tailwind CSS uses rem-based spacing (e.g., p-4 = 1rem = 16px by default)
- Custom CSS in this file may use px for precise control when needed
- This mixed approach allows Tailwind's responsive scaling while maintaining
  pixel-perfect control for specific components where required
================================================================================
*/

/* --- Layout Fixes & Helpers --- */

/* Header scroll behavior - ensure solid background when scrolled */
header {
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

header.scrolled {
    background-color: var(--color-interactive-primary-bg) !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

#footer-container svg {
    width: 2rem;
    height: 2rem;
}

#header-container nav {
    display: flex;
}

.aspect-w-16 {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 */
}

.aspect-h-9 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* 
  --- Admin Mode Visibility --- 
  This is legacy and should be refactored to a state-driven approach later.
*/
.admin-controls, .admin-controls-inline {
  display: none;
}

body.admin-mode .admin-controls {
    display: block;
}

body.admin-mode .admin-controls-inline {
  display: flex;
}

/* --- Component-Specific Styles --- */

#modal-form {
    background-color: var(--color-background-primary) !important;
}

.jam-cancelled .jam-info {
  text-decoration: line-through;
  color: var(--color-text-cancelled);
}

/* 
 --- Refactored Button Styles --- 
 - These now use semantic tokens from theme.css
*/

.btn {
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius-button);
    font-weight: 700;
    color: var(--color-text-on-interactive);
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

/* Focus states for all buttons - keyboard navigation accessibility */
.btn:focus-visible,
.btn-danger:focus-visible,
.btn-green:focus-visible,
.btn-blue:focus-visible,
.btn-gray:focus-visible,
.btn-primary:focus-visible {
    outline: 3px solid var(--color-interactive-primary-bg);
    outline-offset: 2px;
}

.btn-danger {
    background-color: var(--color-interactive-danger-bg);
}
.btn-danger:hover {
    background-color: var(--color-interactive-danger-hover-bg);
}
.btn-danger:focus-visible {
    outline-color: var(--color-interactive-danger-bg);
}

.btn-green {
    background-color: var(--color-interactive-success-bg);
}
.btn-green:hover {
    background-color: var(--color-interactive-success-hover-bg);
}
.btn-green:focus-visible {
    outline-color: var(--color-interactive-success-bg);
}

.btn-blue {
    background-color: var(--color-interactive-info-bg);
}
.btn-blue:hover {
    background-color: var(--color-interactive-info-hover-bg);
}
.btn-blue:focus-visible {
    outline-color: var(--color-interactive-info-bg);
}

.btn-gray {
    background-color: var(--color-interactive-muted-bg);
}
.btn-gray:hover {
    background-color: var(--color-interactive-muted-hover-bg);
}
.btn-gray:focus-visible {
    outline-color: var(--color-interactive-muted-bg);
}

/* This is a generic button that uses the current theme's primary color */
.btn-primary {
    background-color: var(--color-interactive-primary-bg);
}
.btn-primary:hover {
    background-color: var(--color-interactive-primary-hover-bg);
}

/* --- Admin Panel Tabs --- */
.admin-tab-btn {
    padding: 0.75rem 1.5rem;
    margin-bottom: -1px;
    border-bottom: 2px solid transparent;
    font-weight: 600;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
}

.admin-tab-btn:hover {
    color: var(--color-text-primary);
}

.admin-tab-btn.active-tab {
    color: var(--color-interactive-primary-bg);
    border-bottom-color: var(--color-interactive-primary-bg);
}


/* --- Theme Switcher Dropdown Styling --- */
#theme-select,
#theme-select-mobile {
    background-color: var(--color-interactive-primary-bg);
    color: var(--color-text-on-interactive);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

#theme-select option,
#theme-select-mobile option {
    background-color: var(--color-background-primary);
    color: var(--color-text-primary);
    padding: 0.5rem;
}

/* --- SVG Logo Styling --- */
#site-logo path {
  fill: var(--color-interactive-primary-bg);
}

/* --- Font Family Utility Classes --- */
.font-primary {
  font-family: var(--font-family-sans);
}

.font-secondary {
  font-family: var(--font-family-serif);
}

/* --- Navigation Link Focus Indicators --- */
/* Focus styles for header navigation links */
header nav a:focus-visible {
  outline: 3px solid var(--color-background-accent);
  outline-offset: 2px;
  border-radius: 0.375rem;
}

/* Focus styles for mobile menu links */
#mobile-menu a:focus-visible {
  outline: 3px solid var(--color-background-accent);
  outline-offset: 2px;
  background-color: rgba(255, 255, 255, 0.15);
}

/* --- M2: Heading Hierarchy Visual Distinction --- */
.section-heading {
  font-size: clamp(1.875rem, 5vw, 3rem); /* 30px to 48px */
  line-height: 1.2;
  font-weight: 700;
  margin-bottom: 1rem;
}

.subsection-heading {
  font-size: clamp(1.5rem, 4vw, 2rem); /* 24px to 32px */
  line-height: 1.3;
  font-weight: 700;
  margin-bottom: 0.75rem;
}

/* --- M3: Unified Shadow System --- */
.card-shadow {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.card-shadow-hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  transition: box-shadow 0.3s ease;
}

/* --- M4: Border Radius Documentation --- */
/*
  Standardized Border Radius Usage:
  - Buttons: rounded-full (9999px)
  - Cards: rounded-lg (0.5rem / 8px)
  - Form inputs: rounded-md (0.375rem / 6px)
  - Images: rounded-lg (0.5rem / 8px)
*/

/* --- M6: Social Media Icons Hover Animation --- */
footer a svg {
  transition: transform 0.3s ease, color 0.3s ease;
}

footer a:hover svg {
  transform: scale(1.15);
}

/* --- M7: Swiper Pagination Dots Theming --- */
.swiper-pagination-bullet {
  background-color: var(--color-interactive-primary-bg) !important;
  opacity: 0.4;
  transition: opacity 0.3s ease;
}

.swiper-pagination-bullet-active {
  opacity: 1 !important;
  background-color: var(--color-interactive-primary-bg) !important;
}

/* --- M8: Admin Controls Smooth Transitions --- */
.admin-controls, .admin-controls-inline {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

body.admin-mode .admin-controls {
  animation: fadeInDown 0.3s ease;
}

body.admin-mode .admin-controls-inline {
  animation: fadeInDown 0.3s ease;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* --- L7: Standardized Transition Durations --- */
/*
  TRANSITION DURATION STANDARDS:
  - 150ms: Micro-interactions (hover states, button presses, small UI changes)
  - 300ms: Standard transitions (dropdowns, modals, most UI animations)
  - 500ms: Complex animations (page transitions, large content changes)
  
  Usage examples:
  - Button hover: transition: background-color 0.15s ease;
  - Modal open/close: transition: opacity 0.3s ease;
  - Page slide: transition: transform 0.5s ease;
*/

/* --- L10: Details Element Smooth Animation --- */
/*
  Progressive enhancement for <details> element animation.
  Note: Limited browser support - works best in modern browsers.
  Gracefully degrades in older browsers to instant open/close.
*/
details {
  overflow: hidden;
  transition: height 0.3s ease;
}

details[open] summary {
  margin-bottom: 0.5rem;
}

details summary {
  cursor: pointer;
  transition: color 0.15s ease;
}

details summary:hover {
  color: var(--color-interactive-primary-hover-bg);
}

/* Smooth content reveal animation */
details[open] > *:not(summary) {
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* --- L8: Print Stylesheet --- */
/* Basic print optimizations for better printing experience */
@media print {
  /* Hide navigation and interactive elements */
  header,
  footer,
  .admin-controls,
  .admin-controls-inline,
  #admin-panel-container,
  #mobile-menu,
  .theme-switcher,
  button,
  #loading-indicator {
    display: none !important;
  }
  
  /* Optimize content for printing */
  body {
    background: white !important;
    color: black !important;
  }
  
  /* Ensure links are visible */
  a {
    text-decoration: underline;
  }
  
  /* Show link URLs after link text */
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
  
  /* Don't show URLs for internal anchors */
  a[href^="#"]:after {
    content: "";
  }
  
  /* Prevent page breaks inside elements */
  .jam-card,
  .event-card,
  details {
    page-break-inside: avoid;
  }
  
  /* Ensure images fit on page */
  img {
    max-width: 100% !important;
    page-break-inside: avoid;
  }
}

/* --- L9: SVG Icon Optimization Note --- */
/*
  SVG OPTIMIZATION OPPORTUNITY:
  
  Current implementation uses inline SVG paths for social media icons in:
  - components/hero.html (Facebook Group, Facebook Page, Instagram)
  - components/footer.html (Facebook Group, Facebook Page, Instagram)
  
  Future improvements to consider:
  1. Replace with icon library (e.g., Font Awesome, Heroicons) for:
     - Smaller file sizes through shared icon definitions
     - Easier maintenance and updates
     - Consistent styling across all icons
  
  2. If keeping inline SVGs, optimize paths using tools like:
     - SVGO (SVG Optimizer)
     - SVGOMG (web-based SVGO)
     - Remove unnecessary attributes and decimal precision
  
  3. Consider using SVG sprites for repeated icons to reduce duplication
  
  Current approach is acceptable for small number of icons but should be
  revisited if icon usage expands significantly.
*/